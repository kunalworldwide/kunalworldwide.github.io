<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2023-02-23">
<meta name="description" content="A comprehensive guide to implementing CI/CD for Azure Synapse Analytics and SQL pools using Azure DevOps">

<title>Streamlining Synapse CI/CD &amp; Dedicated SQL pool with Azure DevOps – Kunal Das</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../assets/icon.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-0626ff4d7a71b55c8707dcae1d04a9b6.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-e25cc82807363e79c52e96bc8b7855f1.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-3f61d0e17626aaa9b46affb506996c33.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-671e28117951ce057572969c968798a8.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-X8X02516LE"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-X8X02516LE', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Kunal Das</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../posts.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../talks.html"> 
<span class="menu-text">Talks</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../contact.html"> 
<span class="menu-text">Contact</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/kunald_official"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/kunalworldwide"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://linkedin.com/in/kunaldaskd"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-synapse-analytics" id="toc-what-is-synapse-analytics" class="nav-link active" data-scroll-target="#what-is-synapse-analytics">What is Synapse Analytics?</a></li>
  <li><a href="#what-is-the-need-for-ci-cd-for-synapse-analytics" id="toc-what-is-the-need-for-ci-cd-for-synapse-analytics" class="nav-link" data-scroll-target="#what-is-the-need-for-ci-cd-for-synapse-analytics">what is the need for CI-CD for synapse analytics?</a></li>
  <li><a href="#what-are-the-different-components-of-synapse-analytics" id="toc-what-are-the-different-components-of-synapse-analytics" class="nav-link" data-scroll-target="#what-are-the-different-components-of-synapse-analytics">What are the different components of Synapse Analytics?</a></li>
  <li><a href="#why-it-is-hard-to-implement-ci-cd-for-synapse-analytics" id="toc-why-it-is-hard-to-implement-ci-cd-for-synapse-analytics" class="nav-link" data-scroll-target="#why-it-is-hard-to-implement-ci-cd-for-synapse-analytics">why it is hard to implement ci cd for synapse analytics?</a></li>
  <li><a href="#lets-understand-the-ci--cd-approach" id="toc-lets-understand-the-ci--cd-approach" class="nav-link" data-scroll-target="#lets-understand-the-ci--cd-approach">Let’s understand the CI -CD Approach:</a></li>
  <li><a href="#continuous-integration" id="toc-continuous-integration" class="nav-link" data-scroll-target="#continuous-integration">Continuous Integration :</a></li>
  <li><a href="#lets-look-at-the-high-level-workflow-of-the-things-we-have-done-so-far" id="toc-lets-look-at-the-high-level-workflow-of-the-things-we-have-done-so-far" class="nav-link" data-scroll-target="#lets-look-at-the-high-level-workflow-of-the-things-we-have-done-so-far">let’s look at the high-level workflow of the things we have done so far!</a></li>
  <li><a href="#ci-cd-for-dedicated-sql-pool" id="toc-ci-cd-for-dedicated-sql-pool" class="nav-link" data-scroll-target="#ci-cd-for-dedicated-sql-pool">CI-CD for dedicated SQL pool</a></li>
  <li><a href="#first-lets-setup-the-repository-for-the-sql-pool" id="toc-first-lets-setup-the-repository-for-the-sql-pool" class="nav-link" data-scroll-target="#first-lets-setup-the-repository-for-the-sql-pool">First, let’s setup the repository for the SQL pool</a></li>
  <li><a href="#implementing-the-release-pipeline-to-deploy-the-above-generated-build-artifacts" id="toc-implementing-the-release-pipeline-to-deploy-the-above-generated-build-artifacts" class="nav-link" data-scroll-target="#implementing-the-release-pipeline-to-deploy-the-above-generated-build-artifacts"><strong>IMPLEMENTING THE RELEASE PIPELINE TO DEPLOY THE ABOVE-GENERATED BUILD ARTIFACTS</strong></a></li>
  <li><a href="#read-my-blogs" id="toc-read-my-blogs" class="nav-link" data-scroll-target="#read-my-blogs">Read my blogs:</a></li>
  <li><a href="#connect-with-me" id="toc-connect-with-me" class="nav-link" data-scroll-target="#connect-with-me">Connect with Me:</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Streamlining Synapse CI/CD &amp; Dedicated SQL pool with Azure DevOps</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Azure</div>
    <div class="quarto-category">DevOps</div>
    <div class="quarto-category">Synapse</div>
    <div class="quarto-category">CI/CD</div>
  </div>
  </div>

<div>
  <div class="description">
    A comprehensive guide to implementing CI/CD for Azure Synapse Analytics and SQL pools using Azure DevOps
  </div>
</div>


<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 23, 2023</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://miro.medium.com/v2/resize:fill:44:44/1*kfaefcgQPHrPsNobjuiiSg.jpeg" class="img-fluid figure-img"></p>
<figcaption>Kunal Das, Author</figcaption>
</figure>
</div>
<ul>
<li><a href="#streamlining-synapse-cicd--dedicated-sql-pool-with-azure-devops-best-practices-and-implementation-tips">Streamlining Synapse CI/CD &amp; Dedicated SQL pool with Azure DevOps: Best Practices and Implementation Tips</a>
<ul>
<li><a href="#what-is-synapse-analytics">What is Synapse Analytics?</a></li>
<li><a href="#what-is-the-need-for-ci-cd-for-synapse-analytics">what is the need for CI-CD for synapse analytics?</a></li>
<li><a href="#what-are-the-different-components-of-synapse-analytics">What are the different components of Synapse Analytics?</a></li>
<li><a href="#why-it-is-hard-to-implement-ci-cd-for-synapse-analytics">why it is hard to implement ci cd for synapse analytics?</a></li>
<li><a href="#lets-understand-the-ci--cd-approach">Let’s understand the CI -CD Approach:</a></li>
<li><a href="#continuous-integration-">Continuous Integration :</a></li>
<li><a href="#lets-look-at-the-high-level-workflow-of-the-things-we-have-done-so-far">let’s look at the high-level workflow of the things we have done so far!</a></li>
<li><a href="#ci-cd-for-dedicated-sql-pool">CI-CD for dedicated SQL pool</a></li>
<li><a href="#first-lets-setup-the-repository-for-the-sql-pool">First, let’s setup the repository for the SQL pool</a></li>
<li><a href="#implementing-the-release-pipeline-to-deploy-the-above-generated-build-artifacts"><strong>IMPLEMENTING THE RELEASE PIPELINE TO DEPLOY THE ABOVE-GENERATED BUILD ARTIFACTS</strong></a></li>
</ul></li>
</ul>
<p>It is crucial to have a simplified and effective process for developing, testing, and implementing solutions as data and analytics become more and more important for enterprises. Microsoft’s cloud-based analytics solution, Synapse Analytics, has strong data warehousing, machine learning, and integration capabilities. However, without the proper equipment and knowledge, building a Continuous Integration and Continuous Deployment (CI/CD) procedure for Synapse can be difficult. Teams can automate the deployment of Synapse solutions thanks to Azure DevOps’ complete collection of CI/CD pipeline capabilities. Using Azure DevOps to streamline Synapse CI/CD, we will examine best practices and implementation advice in this article.</p>
<p><img src="https://miro.medium.com/v2/resize:fit:700/0*CoufxbMwN_U4G5CV.png" class="img-fluid"></p>
<section id="what-is-synapse-analytics" class="level2">
<h2 class="anchored" data-anchor-id="what-is-synapse-analytics">What is Synapse Analytics?</h2>
<p>Microsoft created the cloud-based analytics solution known as Synapse Analytics. It is a platform that gives businesses the ability to ingest, prepare, manage, and provide data for their urgent needs in business intelligence and machine learning. Data integration, big data, data warehousing, and AI are just a few of the tools and services that Synapse Analytics integrates into a single workspace to provide a seamless end-to-end data analytics experience. The platform provides cutting-edge functions like code-free or code-first data integration, big data processing based on SQL and Spark, machine learning, and Power BI reporting capabilities. Synapse Analytics offers a single, end-to-end development and deployment experience while allowing customers to work with their current tools, languages, and frameworks.</p>
</section>
<section id="what-is-the-need-for-ci-cd-for-synapse-analytics" class="level2">
<h2 class="anchored" data-anchor-id="what-is-the-need-for-ci-cd-for-synapse-analytics">what is the need for CI-CD for synapse analytics?</h2>
<p>First of all, Synapse Analytics is a cloud-based analytics service that is frequently updated and added to with new capabilities. The danger of potential bugs and other problems is reduced by a well-defined CI/CD process, which makes sure that the most recent changes are integrated and tested in the current system before being deployed to production.</p>
<p>Second, a well-defined CI/CD procedure that guarantees seamless cooperation and effective deployment is crucial because Synapse Analytics frequently involves numerous developers working on various project components.</p>
<p>Lastly, A well-defined CI/CD approach also ensures that the pipeline is tested and verified at every level, resulting in greater quality, more stable solutions, and a quicker time to market. Synapse Analytics frequently entails complicated data processing and integration.</p>
<p>Overall, teams can manage the development and deployment of solutions more effectively while maintaining high quality and lowering the risk of errors and downtime by adopting a CI/CD process for Synapse Analytics with technologies like Azure DevOps.</p>
</section>
<section id="what-are-the-different-components-of-synapse-analytics" class="level2">
<h2 class="anchored" data-anchor-id="what-are-the-different-components-of-synapse-analytics">What are the different components of Synapse Analytics?</h2>
<p>A cloud-based analytics service called Synapse Analytics consists of a number of parts that work together to offer a whole analytics solution. Synapse Analytics’ principal parts are:</p>
<p><strong>Synapse Studio</strong>: A web-based integrated development environment (IDE) called Synapse Studio offers a centralized workspace for creating, overseeing, and maintaining Synapse applications. It consists of a number of technologies and services, including big data, machine learning, data warehousing, and data integration.</p>
<p><strong>Synapse SQL:</strong> Users of Synapse SQL can execute SQL queries against both organized and unstructured data using this distributed SQL engine. It supports serverless and provisioned models, enables petabyte-scale data warehousing, and supports both.</p>
<p><strong>Synapse Spark:</strong> Synapse Spark is a big data processing engine that enables customers to use Apache Spark to process massive amounts of data. Big data analytics, offers a high-performance computing environment that supports both batch and real-time data processing.</p>
<p><strong>Synapse Pipelines:</strong> Users can design, orchestrate, and monitor data pipelines using the data integration service known as Synapse Pipelines. It can integrate data from numerous sources and supports both code-free and code-first data integration scenarios.</p>
<p><strong>Synapse Serverless:</strong> Users can analyze data using SQL queries using Synapse Serverless, a serverless SQL pool, without needing to set up or maintain a specific cluster.</p>
<p><strong>Synapse Dedicated SQL Pool:</strong> A dedicated cluster for high-performance data warehousing and analytics is offered via the provided SQL pool known as Synapse.</p>
<p><strong>Synapse Notebooks:</strong> Users can work with code and data in a group setting using Synapse Notebooks, a collaborative notebook environment. Python, Scala, and .NET are just a few of the many programming languages it supports.</p>
<p><img src="https://miro.medium.com/v2/resize:fit:541/1*6KsmHKmVqEAqPPG1BFyayw.png" class="img-fluid"></p>
</section>
<section id="why-it-is-hard-to-implement-ci-cd-for-synapse-analytics" class="level2">
<h2 class="anchored" data-anchor-id="why-it-is-hard-to-implement-ci-cd-for-synapse-analytics">why it is hard to implement ci cd for synapse analytics?</h2>
<p>For a number of reasons, implementing a Continuous Integration and Continuous Deployment (CI/CD) procedure for Synapse Analytics can be difficult.</p>
<p>First off, Synapse Analytics is a sophisticated cloud-based analytics service that combines a variety of parts and offerings, each with specific needs and dependencies. It may be challenging to develop a simplified and effective CI/CD pipeline that manages all the many components of the service due to its complexity.</p>
<p>Second, it can be difficult to develop a testing and deployment procedure that is quick and successful since Synapse Analytics frequently requires processing and handling massive volumes of data. It can take a lot of time to test and validate data pipelines, and handling enormous amounts of data makes it challenging to set up a testing environment that precisely mimics the production environment.</p>
<p>Thirdly, it can be difficult to make sure that everyone is using the most recent code and data because Synapse Analytics is frequently utilized by numerous developers and teams. Version control problems and other issues may result from this, which may slow down the development and deployment process.</p>
<p>Last but not least, For Synapse Analytics one needs experience in a variety of fields, including data integration, warehousing, big data, and machine learning, in order to establish a CI/CD process. Teams may find it difficult to locate the necessary skills and materials to build a reliable and effective CI/CD pipeline as a result.</p>
<p>Overall, For Synapse Analytics one needs to carefully prepare the implementation of a CI/CD process and have a thorough understanding of all the different parts and services involved. To build a streamlined and effective pipeline that can handle the complexity of Synapse Analytics, it’s crucial to collaborate with professionals in data engineering, DevOps, and cloud computing.</p>
</section>
<section id="lets-understand-the-ci--cd-approach" class="level2">
<h2 class="anchored" data-anchor-id="lets-understand-the-ci--cd-approach">Let’s understand the CI -CD Approach:</h2>
<p><img src="https://miro.medium.com/v2/resize:fit:700/1*BWLgWiFl2NK106GjlgnXuA.png" class="img-fluid"></p>
<ol type="1">
<li><strong>Resource Groups:</strong> Here we have two resource groups, In how enterprise we may have multiple resource groups and multiple synapse workspaces so to deploy that you can use my terraform guide which can be done very easily.</li>
<li><strong>Artifacts:</strong> for artifacts deployment, I have used the ARM template deployment approach and deployed all the artifacts in that way.</li>
</ol>
<p><em>The most important thing is if you have multiple artifacts linked services then you have to manually edit the ARM templates before deployment for it to work.</em></p>
<p>3. <strong>Dedicated SQL pool:</strong> The dedicated SQL pool scripts and stored procedures, views, etc also can be automated using CI-CD but I have used a secondary pipeline for the same, which makes sense as the development of the two will be asynchronous and have a different lifecycle.</p>
</section>
<section id="continuous-integration" class="level2">
<h2 class="anchored" data-anchor-id="continuous-integration">Continuous Integration :</h2>
<p>So for the example let’s think that we have two synapse workspace which represents two environments.</p>
<p><img src="https://miro.medium.com/v2/resize:fit:700/1*-fjFCeudSibAyUomdONW_Q.png" class="img-fluid"></p>
<p>Now log into the dev synapse workspace by going to the portal and clicking on the open synapse studio dialog box</p>
<p><img src="https://miro.medium.com/v2/resize:fit:404/1*9oL7oOlWimT5D94EZKqsPw.png" class="img-fluid"></p>
<p>Once you are in dev synapse studio go to Settings and then GIT configuration.</p>
<p><img src="https://miro.medium.com/v2/resize:fit:386/1*ohhgl34OOCXcvasXNAAflQ.png" class="img-fluid"></p>
<p>then click on ‘configure’</p>
<p><img src="https://miro.medium.com/v2/resize:fit:700/1*B-bcu3WuDAgFhFagRZ0KxA.png" class="img-fluid"></p>
<p>select GITHUB or AZURE DEVOPS in the repository type</p>
<p><img src="https://miro.medium.com/v2/resize:fit:700/1*HFd49zarfzjmvwN3rC53-w.png" class="img-fluid"></p>
<p>Then proceed to select the collaboration branch and publish branch.</p>
<p><img src="https://miro.medium.com/v2/resize:fit:700/1*JPLjTkXdfFWWImzfjWAaJw.png" class="img-fluid"></p>
<p>The collaboration branch and publish branch are two crucial ideas in Synapse Studio that are connected to source control and versioning of Synapse artifacts.</p>
<p>The collaboration branch where numerous developers can work together on a Single workspace is the collaboration branch. Usually, Synapse artifacts are developed, tested, and validated using this branch. The collaboration branch can be updated by developers after they create and modify Synapse items like pipelines, notebooks, data flows, and SQL scripts. When you establish a new workspace in Synapse Studio, the collaboration branch, which is the default branch, is automatically created.</p>
<p>The publish branch however does a different thing, it publishes the ARM template into that branch which contains everything in the artifact be it pipelines, notebooks, and Linked services detail everything!</p>
<p>Once you are done it will look something like this,</p>
<p><img src="https://miro.medium.com/v2/resize:fit:700/1*q2wVkCmmGsUl6z_WGg3ZcA.png" class="img-fluid"></p>
<p>Now try to commit all and then publish</p>
<p><img src="https://miro.medium.com/v2/resize:fit:523/1*mWeYAg0qzsdtSvyyj2nDcQ.png" class="img-fluid"></p>
<p>This will start generating the ARM templates and save them in the repo mentioned.</p>
<p>If you go to the repo you will see a folder showing your synapse workspace name which will contain two ARM templates.</p>
<p><img src="https://miro.medium.com/v2/resize:fit:429/1*8obf7NpjjZ-5ghruiXYQLA.png" class="img-fluid"></p>
<p>the build and release concept is kind of this.</p>
<p><img src="https://miro.medium.com/v2/resize:fit:700/1*xOtUyHXBbKEJjo8TRYQRgQ.png" class="img-fluid"></p>
<p>So we are using three branch policy</p>
<p>Develop branch: This branch would be the primary branch for developers to work on Synapse artifacts, including pipelines, notebooks, and data flows. Each developer would create their own feature branch from the develop branch, where they would make and commit their changes. When their feature is complete and tested, they would submit a pull request to merge their changes into the develop branch. The development branch would contain the latest tested changes from all the feature branches.</p>
<p>Feature branch: Each developer would create their own feature branch from the develop branch, where they would make and commit their changes. Feature branches are typically named after the feature or issue that they are addressing. Once a developer has completed their changes and testing, they would submit a pull request to merge their changes into the develop branch.</p>
<p>Main branch: The main branch would be the publish branch where you would deploy your Synapse artifacts to a live environment. The main branch would only contain the latest, tested changes that have been approved and merged from the develop branch.</p>
<p>In this setup, developers would use the develop branch to collaborate and integrate their changes before publishing to the main branch. This enables developers to work in parallel while maintaining a single source of truth for the Synapse artifacts. The use of feature branches ensures that changes are isolated and tested before being integrated into the develop branch. Finally, the main branch would contain only the tested and approved changes that are ready for deployment. By using this branch policy, you can help ensure that changes to your Synapse artifacts are properly tested and validated, and that version control is maintained throughout the development process.</p>
<p>Create a pipeline with the below code</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The pipeline copies files from workspace publish branch and publishes artifact</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># @author  Kunal Das</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># @version 1.0</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># @since   10-11-2022</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at"> </span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="at">    -synapse-CI-low</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">trigger</span><span class="kw">:</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> workspace_publish</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">pool</span><span class="kw">:</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">vmImage</span><span class="kw">:</span><span class="at"> ubuntu-22.04</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">steps</span><span class="kw">:</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">task</span><span class="kw">:</span><span class="at"> CopyFiles@2</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">displayName</span><span class="kw">:</span><span class="at"> </span><span class="st">'Copy Files to Build Pipeline directory'</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">inputs</span><span class="kw">:</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">SourceFolder</span><span class="kw">:</span><span class="at"> </span><span class="st">'synapse-dev'</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">TargetFolder</span><span class="kw">:</span><span class="at"> </span><span class="st">'$(Build.ArtifactStagingDirectory)/ARM'</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">task</span><span class="kw">:</span><span class="at"> PublishPipelineArtifact@1</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">displayName</span><span class="kw">:</span><span class="at"> </span><span class="st">'Publish Pipeline Artifact'</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">inputs</span><span class="kw">:</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">targetPath</span><span class="kw">:</span><span class="at"> </span><span class="st">'$(Build.ArtifactStagingDirectory)'</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">artifact</span><span class="kw">:</span><span class="at"> drop</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This is a simplified YAML pipeline for Synapse CI/CD that has been named ‘synapse-CI-low’. The pipeline triggers whenever a Synapse workspace is published. The pipeline runs on an Ubuntu 22.04 virtual machine.</p>
<p>The first step in the pipeline is to copy files from a folder called ‘synapse-dev’ to a directory called ‘ARM’ in the build pipeline. This step is accomplished using the ‘CopyFiles’ task.</p>
<p>The second and final step in the pipeline is to publish the Synapse artifacts as a pipeline artifacts. This step is accomplished using the ‘PublishPipelineArtifact’ task. The target path for the artifacts is set to the build artifact staging directory, and the artifact is named ‘drop’.</p>
<p>This pipeline is a simple example of a Synapse CI/CD pipeline that copies Synapse artifacts from a source directory and publishes them as a pipeline artifact. This pipeline can be further expanded to include additional steps for building, testing, and deploying the Synapse artifacts.</p>
<p>Now to deploy the ARM template one extension is required, which can be added from the <a href="https://marketplace.visualstudio.com/items?itemName=AzureSynapseWorkspace.synapsecicd-deploy&amp;targetId=30894b01-00f5-4e06-962b-d1eec4db15f5&amp;utm_source=vstsproduct&amp;utm_medium=ExtHubManageList&amp;source=post_page-----59746afe022f--------------------------------">marketplace</a>.</p>
<p>To install the extension follow these steps:</p>
<ol type="1">
<li>Log in to your Azure DevOps organization and navigate to the Extensions tab in the left-hand menu.</li>
<li>Click on Browse Marketplace to access the Visual Studio Marketplace.</li>
<li>Search for the extension you want to install by typing the name of the extension in the search bar.</li>
<li>Click on the extension from the list of results to open the extension page.</li>
<li>Click on the Get it free button.</li>
<li>Select the Azure DevOps organization where you want to install the extension and review the terms and conditions.</li>
<li>Click on the Install button to install the extension in your Azure DevOps organization.</li>
</ol>
<p>Now for release, we need to add the main step:<br>
which is workspace deployment, for that we add the below task</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">steps</span><span class="kw">:</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">task</span><span class="kw">:</span><span class="at"> AzureSynapseWorkspace.synapsecicd-deploy.synapse-deploy.Synapse workspace deployment@2</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">displayName</span><span class="kw">:</span><span class="at"> </span><span class="st">'Synpase deployment task for workspace: synapse-qa'</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">inputs</span><span class="kw">:</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">TemplateFile</span><span class="kw">:</span><span class="at"> </span><span class="st">'$(System.DefaultWorkingDirectory)/_Synapse-CI-pipeline/drop/ARM/TemplateForWorkspace.json'</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">ParametersFile</span><span class="kw">:</span><span class="at"> </span><span class="st">'$(System.DefaultWorkingDirectory)/_Synapse-CI-pipeline/drop/ARM/TemplateParametersForWorkspace.json'</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">azureSubscription</span><span class="kw">:</span><span class="at"> </span><span class="st">'syn-sp'</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">ResourceGroupName</span><span class="kw">:</span><span class="at"> </span><span class="st">'synapseQA-RG'</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">TargetWorkspaceName</span><span class="kw">:</span><span class="at"> </span><span class="st">'synapse-qa'</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">OverrideArmParameters</span><span class="kw">:</span><span class="at"> </span><span class="st">'-LS_AKV_QA_properties_typeProperties_baseUrl https://synapse-qa.vault.azure.net/'</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">FailOnMissingOverrides</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This is a YAML code snippet for deploying a Synapse workspace using the Synapse Workspace Deployment task in Azure DevOps. The code contains the following steps:</p>
<ol type="1">
<li>The task is defined with the name ‘Synapse deployment task for workspace: synapse-qa’ and the version number of the Synapse Workspace Deployment task is set to 2.</li>
<li>The template and parameter files for the Synapse workspace are specified. The template file is named ‘TemplateForWorkspace.json’ and the parameters file is named ‘TemplateParametersForWorkspace.json’. These files are located in the default working directory of the pipeline.</li>
<li>The Azure subscription to be used for the deployment is specified as ‘syn-sp’.</li>
<li>The resource group name where the Synapse workspace will be deployed is set to ‘synapseQA-RG’.</li>
<li>The target Synapse workspace name is set to ‘synapse-qa’.</li>
<li>The override ARM parameters are specified using the parameter name and the new value. In this case, the parameter name is ‘-LS_AKV_QA_properties_typeProperties_baseUrl’ and the new value is ‘<a href="https://synapse-qa.vault.azure.net/">https://synapse-qa.vault.azure.net/</a>’.</li>
<li>The ‘FailOnMissingOverrides’ option is set to true, which means that the deployment will fail if any of the specified override parameters are not found.</li>
</ol>
<p>In summary, this code snippet deploys a Synapse workspace to the specified Azure subscription, resource group, and Synapse workspace name. The override ARM parameters allow you to customize the deployment settings for the workspace.</p>
<p>if you notice when we deploy the ARM template we need to change somethings like</p>
<p>1 . Sql pool name</p>
<p>2. Linked Services details</p>
<p>3. Spark pool name</p>
<p>If you have the same name for all these then you may not have to tinker with the ARM template but for others before running the above deployment step we need to modify these.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">steps</span><span class="kw">:</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">task</span><span class="kw">:</span><span class="at"> PythonScript@0</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">displayName</span><span class="kw">:</span><span class="at"> </span><span class="st">'Change SQL Pool'</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">inputs</span><span class="kw">:</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">scriptSource</span><span class="kw">:</span><span class="at"> inline</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">    script</span><span class="kw">: </span><span class="ch">|</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>     search_text = 'synapsesqlpooldev'</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>     replace_text = 'synapsesqlpoolqa'</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>     with open(r'$(System.DefaultWorkingDirectory)/_Synapse-CI-pipeline/drop/ARM/TemplateForWorkspace.json', 'r') as file:</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        data = file.read()</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>        data = data.replace(search_text, replace_text)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>     with open(r'$(System.DefaultWorkingDirectory)/_Synapse-CI-pipeline/drop/ARM/TemplateForWorkspace.json', 'w') as file:</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>        file.write(data)</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>     print("SQL pool changed")</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>     </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This is a YAML code snippet for a PythonScript task in Azure DevOps. The task changes the name of a SQL pool in an ARM template file for a Synapse workspace deployment. The code contains the following steps:</p>
<ol type="1">
<li>The task is defined with the name ‘Change SQL Pool’ and the task version is set to 0.</li>
<li>The script source is set to ‘inline’, which means that the script is written in the YAML file directly.</li>
<li>The Python script is defined, which replaces the search text ‘synapsesqlpooldev’ with the replacement text ‘synapsesqlpoolqa’ in the ARM template file.</li>
<li>The ARM template file is read and its contents are stored in the ‘data’ variable.</li>
<li>The ‘replace’ method is used to replace the search text with the replacement text.</li>
<li>The modified data is written back to the ARM template file.</li>
<li>A message ‘SQL pool changed’ is printed to the console.</li>
</ol>
<p>In summary, this code snippet uses a Python script to modify the ARM template file for a Synapse workspace deployment by changing the name of a SQL pool from ‘synapsesqlpooldev’ to ‘synapsesqlpoolqa’. The modified ARM template file is used in the subsequent tasks for deploying the Synapse workspace.</p>
<p>The same kind of scripts can use for Spark pool and linked services as well.</p>
<p>If you want to use Powershell here is the command<br>
Let us change the linked Azure KeyVault for the same.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode powershell code-with-copy"><code class="sourceCode powershell"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="op">(</span><span class="fu">Get-Content</span> <span class="op">-</span>path <span class="op">$(</span>System<span class="op">.</span><span class="fu">DefaultWorkingDirectory</span><span class="op">)/</span>_Synapse-CI-pipeline<span class="op">/</span>drop<span class="op">/</span>ARM<span class="op">/</span>TemplateForWorkspace<span class="op">.</span><span class="fu">json</span><span class="op">)</span> <span class="op">-replace</span> <span class="st">'LS_AKV_DEV'</span><span class="op">,</span><span class="st">'LS_AKV_QA'</span> <span class="op">|</span> <span class="fu">Set-Content</span> <span class="op">-</span>Path <span class="op">$(</span>System<span class="op">.</span><span class="fu">DefaultWorkingDirectory</span><span class="op">)/</span>_Synapse-CI-pipeline<span class="op">/</span>drop<span class="op">/</span>ARM<span class="op">/</span>TemplateForWorkspace<span class="op">.</span><span class="fu">json</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="op">(</span><span class="fu">Get-Content</span> <span class="op">-</span>path <span class="op">$(</span>System<span class="op">.</span><span class="fu">DefaultWorkingDirectory</span><span class="op">)/</span>_Synapse-CI-pipeline<span class="op">/</span>drop<span class="op">/</span>ARM<span class="op">/</span>TemplateParametersForWorkspace<span class="op">.</span><span class="fu">json</span><span class="op">)</span> <span class="op">-replace</span> <span class="st">'LS_AKV_DEV'</span><span class="op">,</span><span class="st">'LS_AKV_QA'</span> <span class="op">|</span> <span class="fu">Set-Content</span> <span class="op">-</span>Path <span class="op">$(</span>System<span class="op">.</span><span class="fu">DefaultWorkingDirectory</span><span class="op">)/</span>_Synapse-CI-pipeline<span class="op">/</span>drop<span class="op">/</span>ARM<span class="op">/</span>TemplateParametersForWorkspace<span class="op">.</span><span class="fu">json</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol type="1">
<li>The first command replaces the string ‘LS_AKV_DEV’ with ‘LS_AKV_QA’ in the contents of the ARM template file named ‘TemplateForWorkspace.json’.</li>
<li>The second command replaces the same string in the contents of the ARM template parameter file named ‘TemplateParametersForWorkspace.json’.</li>
<li>The ‘-path’ parameter specifies the file path for each file, which is set to the default working directory in the build pipeline.</li>
<li>The ‘-replace’ parameter is used to search for the specified string and replace it with the replacement string in each file.</li>
<li>The ‘|’ (pipe) character is used to send the modified contents to the ‘Set-Content’ command, which writes the modified contents back to the same file.</li>
<li>The modified ARM template files are used in the subsequent tasks for deploying the Synapse workspace.</li>
</ol>
<p>In summary, this PowerShell script code uses the ‘Get-Content’ and ‘Set-Content’ commands to modify the contents of two ARM template files for a Synapse workspace deployment in Azure DevOps. The ‘replace’ parameter is used to replace a string in each file, and the modified files are used in the subsequent deployment tasks.</p>
<p>Now if you have some triggers in the synapse workspace it will not deploy as before deployment triggers must be turned off, to achieve this we can add the below task just before deployment</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">steps</span><span class="kw">:</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">task</span><span class="kw">:</span><span class="at"> AzureSynapseWorkspace.synapsecicd-deploy.toggle-trigger.toggle-triggers-dev@2</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">displayName</span><span class="kw">:</span><span class="at"> </span><span class="st">'Toggle Azure Synapse Triggers'</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">inputs</span><span class="kw">:</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">azureSubscription</span><span class="kw">:</span><span class="at"> </span><span class="st">'syn-sp'</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">ResourceGroupName</span><span class="kw">:</span><span class="at"> </span><span class="st">'Synapseqa-RG'</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">WorkspaceName</span><span class="kw">:</span><span class="at"> </span><span class="st">'synapse-qa'</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">ToggleOn</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This pipeline step uses the Azure Synapse CI/CD extension to turn off triggers for a Synapse workspace. The task is named “Toggle Azure Synapse Triggers” and the version being used is 2. The task has several inputs including:</p>
<ul>
<li>azureSubscription: The Azure subscription that contains the Synapse workspace.</li>
<li>ResourceGroupName: The name of the resource group where the Synapse workspace is located.</li>
<li>WorkspaceName: The name of the Synapse workspace where the triggers will be turned off.</li>
<li>ToggleOn: A boolean value indicating whether to turn on or off the Synapse triggers. In this case, it is set to false, meaning the triggers will be turned off.</li>
</ul>
<p>Once you do all these steps you are finally ready to deploy the synapse workspace!!!</p>
</section>
<section id="lets-look-at-the-high-level-workflow-of-the-things-we-have-done-so-far" class="level2">
<h2 class="anchored" data-anchor-id="lets-look-at-the-high-level-workflow-of-the-things-we-have-done-so-far">let’s look at the high-level workflow of the things we have done so far!</h2>
<ol type="1">
<li>Developers create or modify Synapse artifacts, such as notebooks, and pipelines, in the development environments.</li>
<li>The changes are pushed to a source control repository, such as Azure DevOps Repos, GitHub, or Bitbucket.</li>
<li>A build pipeline is triggered, which compiles the changes, and creates an artifact, such as an ARM template.</li>
<li>The artifact is published to a release pipeline, which deploys it to the Synapse workspace.</li>
<li>The deployment process may involve creating or updating Synapse artifacts, deploying resources to Azure, and configuring the Synapse workspace.</li>
<li>After the deployment is completed, the triggers for Synapse pipelines, notebooks, and triggers may need to be toggled on or off.</li>
<li>If any issues are found during testing, the pipeline may be rolled back or the code may be fixed and re-deployed.</li>
</ol>
<p>But this whole CI-CD pipeline will take care of the spark notebooks pipelines and additionally the Linked services and IRs as well but one major thing is the Stored procedures views etc from the dedicated SQL pool, we need some way to publish these changes can be taken care of by using a second Pipeline,</p>
</section>
<section id="ci-cd-for-dedicated-sql-pool" class="level2">
<h2 class="anchored" data-anchor-id="ci-cd-for-dedicated-sql-pool">CI-CD for dedicated SQL pool</h2>
<p>Let’s look at the high-level workflow</p>
<p>Sure, here’s a detailed explanation of the CI/CD workflow for a dedicated SQL pool using Azure Data Studio:</p>
<ol type="1">
<li><strong>Connect to dedicated SQL pool:</strong> First, connect to the dedicated SQL pool using Azure Data Studio. This can be done by selecting the dedicated SQL pool in the Object Explorer and providing the necessary login credentials.</li>
<li><strong>Create a project:</strong> Once connected, create a new project in Azure Data Studio by selecting File -&gt; New Project. Choose the appropriate project type based on the requirements of the dedicated SQL pool.</li>
<li><strong>Add source control:</strong> Add the project to a source control repository such as Git by selecting View -&gt; Source Control and following the prompts to initialize the repository and commit the project.</li>
<li><strong>Build pipeline:</strong> Create a build pipeline in Azure DevOps that takes the *.sqlproj file from the source control repository and builds a DACPAC file using the vsbuild Task. This task compiles the SQL scripts and T-SQL code into a single package that can be deployed to the dedicated SQL pool.</li>
<li><strong>Release pipeline:</strong> Create a release pipeline in Azure DevOps that deploys the DACPAC file to the next environment, such as the QA environment. This can be done using the dacpac Deploy Task. This task deploys the DACPAC file to the specified SQL Server instance or dedicated SQL pool, and can also handle any necessary pre- or post-deployment scripts.</li>
</ol>
<p>Here is the complete workflow diagram of the same.</p>
<p><img src="https://miro.medium.com/v2/resize:fit:693/1*vMZpqncYYtNPkveUX_Tdqw.png" class="img-fluid"></p>
</section>
<section id="first-lets-setup-the-repository-for-the-sql-pool" class="level2">
<h2 class="anchored" data-anchor-id="first-lets-setup-the-repository-for-the-sql-pool">First, let’s setup the repository for the SQL pool</h2>
<ol type="1">
<li>Create or use an existing Azure DevOps project.</li>
<li>Click on Repos from the sidebar.</li>
<li>Click on New Repository and fill in the necessary details, such as the repo name. In this case, the repo name used in this example is “Synapse_SQLpool”. Click on Create.</li>
<li>Configure Azure Data Studio (ADS) to connect to the above-created repository. Open ADS and select the New Connection option from the welcome page.</li>
</ol>
<p><img src="https://miro.medium.com/v2/resize:fit:570/0*dGDlzzBforon6Jdu.png" class="img-fluid"></p>
<p>5. A new pop-up window will come, here put all the details required for the connection.</p>
<p><img src="https://miro.medium.com/v2/resize:fit:591/1*CQ-ndkbQDFKEws59X0Zbig.png" class="img-fluid"></p>
<p>6. Click on <strong>connect</strong> and then wait for the browser window to come on screen, here u can normally log in with your azure credentials and after successful login, you will be redirected to the data studio.</p>
<p>7. At this point if you click on the <strong>Connections</strong> side pane on the left you will definitely see the connection sub menu there,</p>
<p><img src="https://miro.medium.com/v2/resize:fit:538/1*BqwP_pVdJpAoNNkz7qGhyQ.png" class="img-fluid"></p>
<p>Now select the server connection from here and then right-click and select ’<strong>create project from database’</strong> option,</p>
<p><img src="https://miro.medium.com/v2/resize:fit:339/1*ys6bRnBDcQPLENVD0MQGFA.png" class="img-fluid"></p>
<p>Keep the settings as shown in the below image but select the folder and project name appropriately.</p>
<p><img src="https://miro.medium.com/v2/resize:fit:463/1*KIqHT-Ev2o2KKOmxquDBFg.png" class="img-fluid"></p>
<ul>
<li>Once you are done with it you will see a project from the left side pane</li>
</ul>
<p><img src="https://miro.medium.com/v2/resize:fit:639/0*9-6cgsXMYYCfjsBd.png" class="img-fluid"></p>
<ul>
<li>Now the only step is to add the project to the Azure repo, there are plenty of ways we can do that, but here inside Azure Data studio itself, you can do the same by going into the left pane source control option.</li>
<li>Click on the three-dot menu and then select the add remote option,</li>
</ul>
<p><img src="https://miro.medium.com/v2/resize:fit:591/0*_qW1ADElqbUDF5dU.png" class="img-fluid"></p>
<ul>
<li>Here u just have to put the azure repo link, if it fails somehow open the terminal by pressing “ctrl + `” and then run the git init command which will initialize the directory,</li>
<li>Once u put the azure repo link whatever changes are there in your project can be pushed to the azure repo easily.</li>
<li>Verify the remote repo by the command ‘git remote -v’</li>
<li>The Sync option can also be used as it will automatically pull and then push the repo from the azure repo to the local system,</li>
</ul>
<p><img src="https://miro.medium.com/v2/resize:fit:469/0*ID5HsaSWZmebcFgC.png" class="img-fluid"></p>
<p>Open the azure repo and navigate to your repo and see the files updated,</p>
<p><img src="https://miro.medium.com/v2/resize:fit:700/0*9N2UwcsgcFCexLD_.png" class="img-fluid"></p>
<p>Now we have to create a build pipeline for that,<br>
go to pipeline and a new pipeline,</p>
<p><img src="https://miro.medium.com/v2/resize:fit:700/1*bzWD9lhx-L2wjEP6UKaJBQ.png" class="img-fluid"></p>
<p>select Azure repo and locate your repository.</p>
<p><img src="https://miro.medium.com/v2/resize:fit:700/0*xMfhg4gEwppeelg4.png" class="img-fluid"></p>
<ul>
<li>The third step would be just selecting the starter pipeline option.</li>
</ul>
<p><img src="https://miro.medium.com/v2/resize:fit:700/0*OAwRILYqxVLKnDaX.png" class="img-fluid"></p>
<ul>
<li>Then in the yaml file paste the below code,</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># @Author : Kunal Das</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Date : 30-12-2022</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">variables</span><span class="kw">:</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">poolstagingarea</span><span class="kw">:</span><span class="at"> $(Build.ArtifactStagingDirectory)\poolstaging</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">BuildConfiguration</span><span class="kw">:</span><span class="at"> release</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">SQLPoolartifactname</span><span class="kw">:</span><span class="at"> AzureSQLPool</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">SQLPooldacpacfile</span><span class="kw">:</span><span class="at"> $(System.ArtifactsDirectory)\$(SQLPoolartifactname)\synapseSQLpoolDEV.sqlproj</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="fu">trigger</span><span class="kw">:</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> main</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="fu">pool</span><span class="kw">:</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">vmImage</span><span class="kw">:</span><span class="at"> windows-2019</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="fu">stages</span><span class="kw">:</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">stage</span><span class="kw">:</span><span class="at"> Pooldacpac</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">displayName</span><span class="kw">:</span><span class="at"> </span><span class="st">'Build dacpac'</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">jobs</span><span class="kw">:</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">job</span><span class="kw">:</span><span class="at"> </span><span class="st">'Builddacpac'</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">displayName</span><span class="kw">:</span><span class="at"> </span><span class="st">'Build SQL Pool dacpac'</span></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a><span class="at">      </span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">steps</span><span class="kw">:</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">task</span><span class="kw">:</span><span class="at"> VSBuild@1</span></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">displayName</span><span class="kw">:</span><span class="at"> </span><span class="st">'Builds the dacpac'</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">inputs</span><span class="kw">:</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">solution</span><span class="kw">:</span><span class="at"> synapseSQLpoolDEV.sqlproj</span></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">configuration</span><span class="kw">:</span><span class="at"> $(BuildConfiguration)</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">task</span><span class="kw">:</span><span class="at"> PublishBuildArtifacts@1</span></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">displayName</span><span class="kw">:</span><span class="at"> </span><span class="st">'Publishes dacpac as an artifact'</span></span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a><span class="co">        # Publishes the dacpac as part of an artifact within Azure DevOps</span></span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">inputs</span><span class="kw">:</span></span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">PathtoPublish</span><span class="kw">:</span><span class="at"> </span><span class="st">'bin\$(BuildConfiguration)'</span></span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">ArtifactName</span><span class="kw">:</span><span class="at"> $(SQLPoolartifactname)</span></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">publishLocation</span><span class="kw">:</span><span class="at"> </span><span class="st">'Container'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>And Done! The build pipeline is ready, you may notice I have given the main branch as a trigger at the top so every time someone updates the main branch it triggers the main pipeline.</li>
<li>Save and run the pipeline, you can see all jobs running perfectly!!!</li>
</ul>
<p><img src="https://miro.medium.com/v2/resize:fit:700/0*720OlcbqBDkb8Wyc.png" class="img-fluid"></p>
<ul>
<li>Click on the pipeline and see the job artifact in this case the dacpac file has been published.</li>
</ul>
<p><img src="https://miro.medium.com/v2/resize:fit:700/0*2a1QYjOx2ldAAwAk.png" class="img-fluid"></p>
</section>
<section id="implementing-the-release-pipeline-to-deploy-the-above-generated-build-artifacts" class="level2">
<h2 class="anchored" data-anchor-id="implementing-the-release-pipeline-to-deploy-the-above-generated-build-artifacts"><strong>IMPLEMENTING THE RELEASE PIPELINE TO DEPLOY THE ABOVE-GENERATED BUILD ARTIFACTS</strong></h2>
<ul>
<li>Now the release pipeline can be created easily by going to pipeline -&gt; release and then selecting create new release pipeline.</li>
</ul>
<p><img src="https://miro.medium.com/v2/resize:fit:221/1*GaDP_GX0fDAbO2IjhJ06tA.png" class="img-fluid"></p>
<ul>
<li>Go to the pipeline and add just one task “SQL dacpac deployment”</li>
</ul>
<p><img src="https://miro.medium.com/v2/resize:fit:682/0*LMyAPzwF4L6ZI4-Q.png" class="img-fluid"></p>
<ul>
<li>This task just points to the QA or the next environment and then just takes the dacpac file to deploy it in the next environments.</li>
</ul>
<p>Then locate and select the dacpac file.</p>
<p><img src="https://miro.medium.com/v2/resize:fit:574/0*cArsKbJYMgjNjCX1.png" class="img-fluid"></p>
<ul>
<li>Pass an additional argument in the field <strong>Additional SqlPackage.exe Arguments</strong> as /p: BlockOnPossibleDataLoss=false</li>
<li>Just save and run the pipeline.</li>
<li>The job will run and deploy the changes to the next environment,</li>
</ul>
<p><img src="https://miro.medium.com/v2/resize:fit:700/0*ulXYtTqFJ3q7xzEm.png" class="img-fluid"></p>
<p>In conclusion, the effectiveness and collaboration of data engineering and BI projects can be significantly enhanced by connecting Azure DevOps with Azure Synapse Analytics workspace. You may connect your Azure DevOps project with your Synapse workspace by following the instructions in this article, which will also help you optimize your CI/CD pipeline for better data asset distribution and maintenance. To ensure a seamless and successful implementation, it is crucial to test carefully and make any necessary adjustments. Your firm can benefit from a smooth DevOps and data analytics process with proper design and implementation.</p>
</section>
<section id="read-my-blogs" class="level2">
<h2 class="anchored" data-anchor-id="read-my-blogs">Read my blogs:</h2>
<p><a href="https://kunaldaskd.medium.com"><img src="https://i.imgur.com/TgYYM9w.png" class="img-fluid" alt="Medium"></a> <a href="https://dev.to/kunaldas"><img src="https://i.imgur.com/bp3qHWb.png" class="img-fluid" alt="DEV"></a> <a href="https://kunaldas.hashnode.dev"><img src="https://i.imgur.com/iwZwo2S.png" class="img-fluid" alt="Hashnode"></a></p>
</section>
<section id="connect-with-me" class="level2">
<h2 class="anchored" data-anchor-id="connect-with-me">Connect with Me:</h2>
<p><a href="https://twitter.com/kunald_official"><img src="https://i.imgur.com/VaorXDP.png" class="img-fluid" alt="Twitter"></a> <a href="https://linkedin.com/in/kunaldaskd"><img src="https://i.imgur.com/ktIHVxm.png" class="img-fluid" alt="LinkedIn"></a></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/kunaldas\.dev");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="kunalworldwide/kunalworldwide.github.io" data-repo-id="R_kgDOLCIa1w" data-category="General" data-category-id="DIC_kwDOLCIa184ClGQR" data-mapping="pathname" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="preferred_color_scheme" data-lang="en" crossorigin="anonymous" async="">
</script>
<input type="hidden" id="giscus-base-theme" value="preferred_color_scheme">
<input type="hidden" id="giscus-alt-theme" value="preferred_color_scheme">
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/kunalworldwide">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/kunald_official">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://linkedin.com/in/kunaldaskd">
      <i class="bi bi-linkedin" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>